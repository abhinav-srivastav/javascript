<html>
  <head>
    <script type = "text/javascript">
      var row_no = 0;

      function add_row()
      {
         var tbody = document.getElementById("tbody");
         var trow = document.createElement("tr");
         tbody.appendChild(trow);
         trow.insertCell(0);

         var tdata1 = document.createElement("td");
         var cell_value = document.createElement("input");
         cell_value.setAttribute("type","textbox");
         cell_value.setAttribute("id","user"+trow.rowIndex);
         cell_value.setAttribute("size","30%");

         tdata1.appendChild(cell_value);
         trow.cells[0].appendChild(tdata1);

         trow.insertCell(1);
         var tdata2 = document.createElement("td");
         var cell_value2 = document.createElement("input");
         cell_value2.setAttribute("type","textbox");
         cell_value2.setAttribute("id","email"+trow.rowIndex);
         cell_value2.setAttribute("size","30%");

         tdata2.appendChild(cell_value2);
         trow.cells[1].appendChild(tdata2);

         trow.insertCell(2);
         var tdata3 = document.createElement("td");
         var cell_value3 = document.createElement("input");
         cell_value3.setAttribute("type","button");
         cell_value3.setAttribute("value","save");
         cell_value3.setAttribute("onclick","append_row("+trow.rowIndex+")");
         cell_value3.setAttribute("size","10%");

         tdata3.appendChild(cell_value3);
         trow.cells[2].appendChild(tdata3);
         tbody.appendChild(trow);
         document.getElementById("table_add").appendChild(tbody); row_no++;
      }

      function append_row(row_ind)
      {
       var row_app = document.getElementById("email"+row_ind).parentNode.parentNode.parentNode.rowIndex;
       var user_value = document.getElementById("user"+row_ind).value;
       var email_value = document.getElementById("email"+row_ind).value;
       var tbody = document.getElementById("tbody");  
      
       var trow = document.createElement("tr");

       trow.id=row_app;
      
       tbody.appendChild(trow);

       document.getElementById("tbody").deleteRow(row_app);

       trow.insertCell(0);
       trow.cells[0].appendChild(document.createTextNode(user_value));

       trow.insertCell(1);
       trow.cells[1].appendChild(document.createTextNode(email_value));

       trow.insertCell(2);
       var cell_value = document.createElement("a");  
       cell_value.setAttribute("href","#");
       cell_value.setAttribute("onclick","app("+trow.id+")");
       cell_value.appendChild(document.createTextNode("edit/"));
    
       var cell_value1 = document.createElement("a");  
       cell_value1.setAttribute("href","#");
       cell_value1.setAttribute("onclick","del("+trow.id+")");
       cell_value1.appendChild(document.createTextNode("del"));
       trow.cells[2].appendChild(cell_value);
       trow.cells[2].appendChild(cell_value1);

       tbody.appendChild(trow);
       document.getElementById("table_add").appendChild(tbody);
      }

      function del(row_id)
      {
        var row_del = document.getElementById(row_id).rowIndex;
        var tbody = document.getElementById("tbody");  
        tbody.deleteRow(row_del);
        document.getElementById("table_add").appendChild(tbody);
      } 

      function app(row_id)
     {
        var tbody = document.getElementById("tbody");
        var trow = document.createElement("tr");
        trow.insertCell(0);
        var tdata1 = document.createElement("td");
        var cell_value = document.createElement("input");
        cell_value.setAttribute("type","textbox");
        cell_value.setAttribute("id","user"+trow.rowIndex);
        cell_value.setAttribute("size","30%");

        tdata1.appendChild(cell_value);
        trow.cells[0].appendChild(tdata1);

        trow.insertCell(1);
        var tdata2 = document.createElement("td");
        var cell_value2 = document.createElement("input");
        cell_value2.setAttribute("type","textbox");
        cell_value2.setAttribute("id","email"+trow.rowIndex);
        cell_value2.setAttribute("size","30%");
        tdata2.appendChild(cell_value2);
        trow.cells[1].appendChild(tdata2);

        trow.insertCell(2);
        var tdata3 = document.createElement("td");
        var cell_value3 = document.createElement("input");
        cell_value3.setAttribute("type","button");
        cell_value3.setAttribute("value","save");
        cell_value3.setAttribute("onclick","append_row("+trow.rowIndex+")");
        cell_value3.setAttribute("size","10%");

        tdata3.appendChild(cell_value3);
        trow.cells[2].appendChild(tdata3);

        tbody.replaceChild(trow,document.getElementById(row_id));
        document.getElementById("table_add").appendChild(tbody);
     }

    </script>
  </head>

  <body>
    <table id = "table_add" border=1px cellspacing=0px width=70%>
      <tbody id = "tbody">      
        <tr>
          <td>User</td>
          <td>Email</td>
          <td>Action</td>
        </tr>
      </tbody>
    </table>

    <button type="button" onClick="add_row()">Add New Row</button>

  </body>
</html>